# Instech Framework

## 框架包含功能
|分类|模块|完成状态|
|-|-|-|
|UI|VP框架|待规划|
|UI|导出生成代码|待规划|
|UI|管理器|待规划|
|UI|自带控件功能扩展|待规划|
|UI|更多常用控件|待规划|
|Productivity|日志增强|完成|
|Productivity|控制台增强|待规划|
|Productivity|游戏调试图表|待规划|
|Common|AssetBundle打包和加载管理|开发中|
|Common|事件系统|待规划|
|Common|单例模板|完成|
|Common|本地化解决方案|待规划|
|Common|音频播放管理|待规划|
|Data|配置表管理|待规划|
|Data|Sqlite数据库访问|待规划|
|Data|数据追踪|待规划|
|Data|可序列化的字典|待规划|
|Util|预定义宏管理|待规划|
|Util|压缩功能|待规划|
|Util|枚举标签|待规划|
|Util|编译时间显示|待规划|
|Util|Yield优化|完成|
|Util|自动添加文件头注释|完成|
|Util|统一的配置入口|完成|
|Util|实用工具类|待规划|

## 功能介绍

### UI-VP框架
VP即View-Presenter，UI采用界面逻辑分离的思路，方便UI人员随时修改且不会影响到具体的业务逻辑。
每一个UI界面都对应2个cs文件，`FooView.cs`和`FooPresenter.cs`。程序人员只在Presenter文件里进行开发，View文件是自动生成自动更新的，保存了需要程序访问的UI控件的引用。每当UI人员对界面进行了修改，直接导出View文件即可，不会影响到具体的业务逻辑，最大的好处是不需要人工在编辑器里一个一个地拖控件，一切都是自动化的。

### UI-导出生成代码
根据Prefab中UI控件对象的命名，导出工具可以知道控件的类型，然后生成对应的代码，以便程序人员获取相应控件对象的引用。
当增加新的UI控件时，不会对业务逻辑造成任何影响。当删除现有的UI控件时，如果直接删除View文件中的引用，Presenter中的代码会编译失败，所以当UI人员删除控件时要提前通知程序人员，最好让程序人员来导出生成新的View代码。

### UI-管理器
框架中的UI基于UGUI开发，全局只有一个Canvas，会在框架初始化时创建，并标记为`DontDestroyOnLoad`。提供UI界面的CRUD，分辨率自适应等功能。
特别介绍一点，UI界面关闭后并不会直接Destroy掉，而是通过调整坐标隐藏了起来，再次打开此界面时会先查找有没有被隐藏的此类界面，有则重新显示，否则创建一个新的。

### UI-自带控件功能扩展

### UI-更多常用控件

### Productivity-日志增强
把Unity自带的`Debug.Log()`封装了一层，实现了更多功能。
现在可以自定义输出日志级别，支持设定日志所属模块，配合控制台增强可以按模块进行筛选。

### Productivity-控制台增强
替换掉Unity自带的控制台，配合框架的日志增强，可以按模块，级别筛选日志，打开定位堆栈层级中任意一层的代码。

### Productivity-游戏调试图表
全屏的图表，随时间更新，支持多个指标如帧率等。一定程度上把Unity的Profile做在游戏里，方便在真机上调试。